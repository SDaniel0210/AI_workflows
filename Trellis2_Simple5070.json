{"id":"440427ce-0c6a-4462-af51-639ed2f16dec","revision":0,"last_node_id":44,"last_link_id":90,"nodes":[{"id":39,"type":"Trellis2LoadModel","pos":[117.62079226212478,517.1751773488967],"size":[301.71875,154],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"modelname","name":"modelname","type":"COMBO","widget":{"name":"modelname"},"link":null},{"localized_name":"backend","name":"backend","type":"COMBO","widget":{"name":"backend"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"low_vram","name":"low_vram","type":"BOOLEAN","widget":{"name":"low_vram"},"link":null},{"localized_name":"keep_models_loaded","name":"keep_models_loaded","type":"BOOLEAN","widget":{"name":"keep_models_loaded"},"link":null}],"outputs":[{"localized_name":"pipeline","name":"pipeline","type":"TRELLIS2PIPELINE","links":[79]}],"properties":{"Node name for S&R":"Trellis2LoadModel","aux_id":"visualbruno/ComfyUI-Trellis2","ver":"c5d66aa46bf1bbf903fd4fe9ff086ac774bb7e03","widget_ue_connectable":{}},"widgets_values":["TRELLIS.2-4B","flash_attn","cuda",true,false]},{"id":41,"type":"Trellis2MeshWithVoxelGenerator","pos":[559.7618875979491,695.0039851287033],"size":[342.265625,318],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"pipeline","name":"pipeline","type":"TRELLIS2PIPELINE","link":79},{"localized_name":"image","name":"image","type":"IMAGE","link":90},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"pipeline_type","name":"pipeline_type","type":"COMBO","widget":{"name":"pipeline_type"},"link":null},{"localized_name":"sparse_structure_steps","name":"sparse_structure_steps","type":"INT","widget":{"name":"sparse_structure_steps"},"link":null},{"localized_name":"shape_steps","name":"shape_steps","type":"INT","widget":{"name":"shape_steps"},"link":null},{"localized_name":"texture_steps","name":"texture_steps","type":"INT","widget":{"name":"texture_steps"},"link":null},{"localized_name":"max_num_tokens","name":"max_num_tokens","type":"INT","widget":{"name":"max_num_tokens"},"link":null},{"localized_name":"max_views","name":"max_views","type":"INT","widget":{"name":"max_views"},"link":null},{"localized_name":"sparse_structure_resolution","name":"sparse_structure_resolution","type":"INT","widget":{"name":"sparse_structure_resolution"},"link":null},{"localized_name":"generate_texture_slat","name":"generate_texture_slat","type":"BOOLEAN","widget":{"name":"generate_texture_slat"},"link":null},{"localized_name":"use_tiled_decoder","name":"use_tiled_decoder","type":"BOOLEAN","widget":{"name":"use_tiled_decoder"},"link":null}],"outputs":[{"localized_name":"mesh","name":"mesh","type":"MESHWITHVOXEL","links":[86]},{"localized_name":"bvh","name":"bvh","type":"BVH","links":[87]}],"properties":{"Node name for S&R":"Trellis2MeshWithVoxelGenerator","aux_id":"visualbruno/ComfyUI-Trellis2","ver":"a28d6cf93b0cf24aa9e7d3dccfd14f406227fbd0","widget_ue_connectable":{}},"widgets_values":[1861511050,"randomize","1024_cascade",12,12,12,999999,4,32,true,true]},{"id":19,"type":"Trellis2ExportMesh","pos":[1231.6992382673216,501.5831418155288],"size":[270,106],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"trimesh","name":"trimesh","type":"TRIMESH","link":88},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"file_format","name":"file_format","type":"COMBO","widget":{"name":"file_format"},"link":null},{"localized_name":"save_file","name":"save_file","shape":7,"type":"BOOLEAN","widget":{"name":"save_file"},"link":null}],"outputs":[{"localized_name":"glb_path","name":"glb_path","type":"STRING","links":[22]}],"properties":{"Node name for S&R":"Trellis2ExportMesh","aux_id":"visualbruno/ComfyUI-Trellis2","ver":"e7f9b30df7a09bcedf1c955e176754c73f983254","widget_ue_connectable":{}},"widgets_values":["Trellis2Mesh","glb",true]},{"id":10,"type":"Preview3D","pos":[1328.1881020356218,688.9011787437086],"size":[626.875,583.2552083333334],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"camera_info","name":"camera_info","shape":7,"type":"LOAD3D_CAMERA","link":null},{"localized_name":"bg_image","name":"bg_image","shape":7,"type":"IMAGE","link":null},{"localized_name":"model_file","name":"model_file","type":"STRING,FILE_3D_GLB,FILE_3D_GLTF,FILE_3D_FBX,FILE_3D_OBJ,FILE_3D_STL,FILE_3D_USDZ,FILE_3D","widget":{"name":"model_file"},"link":22},{"localized_name":"image","name":"image","type":"PREVIEW_3D","widget":{"name":"image"},"link":null}],"outputs":[],"properties":{"Node name for S&R":"Preview3D","cnr_id":"comfy-core","ver":"0.4.0","widget_ue_connectable":{},"Last Time Model File":"Trellis2Mesh_00001_.glb","Scene Config":{"showGrid":true,"backgroundColor":"#282828","backgroundImage":"","backgroundRenderMode":"tiled"},"Camera Config":{"cameraType":"perspective","fov":35,"state":{"position":{"x":2.1017472667660635,"y":0.8296694081972233,"z":-2.277433071930833},"target":{"x":0,"y":1.0092459666764992,"z":0},"zoom":1,"cameraType":"perspective"}},"Light Config":{"intensity":3}},"widgets_values":["Trellis2Mesh_00001_.glb",""]},{"id":44,"type":"Trellis2PreProcessImage","pos":[203.88582047878128,762.3237362873452],"size":[234.81770833333334,82],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":89},{"localized_name":"padding","name":"padding","type":"INT","widget":{"name":"padding"},"link":null},{"localized_name":"remove_background","name":"remove_background","type":"BOOLEAN","widget":{"name":"remove_background"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[90]}],"properties":{"Node name for S&R":"Trellis2PreProcessImage","widget_ue_connectable":{},"aux_id":"visualbruno/ComfyUI-Trellis2","ver":"a354e8c4fead5c152d58b50eae2935cb2923cd72"},"widgets_values":[0,false]},{"id":6,"type":"Trellis2LoadImageWithTransparency","pos":[131.85914923828122,909.5650898266862],"size":[378.59375,388.359375],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"image_with_alpha","name":"image_with_alpha","type":"IMAGE","links":[89]}],"properties":{"Node name for S&R":"Trellis2LoadImageWithTransparency","aux_id":"visualbruno/ComfyUI-Trellis2","ver":"e7f9b30df7a09bcedf1c955e176754c73f983254","widget_ue_connectable":{}},"widgets_values":["fox2_red-removebg-preview.png","image"]},{"id":43,"type":"Trellis2PostProcessAndUnWrapAndRasterizer","pos":[928.0921544695578,695.2159819792038],"size":[359.15234375,517.7734375],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"mesh","name":"mesh","type":"MESHWITHVOXEL","link":86},{"localized_name":"bvh","name":"bvh","type":"BVH","link":87},{"localized_name":"mesh_cluster_threshold_cone_half_angle_rad","name":"mesh_cluster_threshold_cone_half_angle_rad","type":"FLOAT","widget":{"name":"mesh_cluster_threshold_cone_half_angle_rad"},"link":null},{"localized_name":"mesh_cluster_refine_iterations","name":"mesh_cluster_refine_iterations","type":"INT","widget":{"name":"mesh_cluster_refine_iterations"},"link":null},{"localized_name":"mesh_cluster_global_iterations","name":"mesh_cluster_global_iterations","type":"INT","widget":{"name":"mesh_cluster_global_iterations"},"link":null},{"localized_name":"mesh_cluster_smooth_strength","name":"mesh_cluster_smooth_strength","type":"INT","widget":{"name":"mesh_cluster_smooth_strength"},"link":null},{"localized_name":"texture_size","name":"texture_size","type":"INT","widget":{"name":"texture_size"},"link":null},{"localized_name":"remesh","name":"remesh","type":"BOOLEAN","widget":{"name":"remesh"},"link":null},{"localized_name":"remesh_band","name":"remesh_band","type":"FLOAT","widget":{"name":"remesh_band"},"link":null},{"localized_name":"remesh_project","name":"remesh_project","type":"FLOAT","widget":{"name":"remesh_project"},"link":null},{"localized_name":"target_face_num","name":"target_face_num","type":"INT","widget":{"name":"target_face_num"},"link":null},{"localized_name":"simplify_method","name":"simplify_method","type":"COMBO","widget":{"name":"simplify_method"},"link":null},{"localized_name":"fill_holes","name":"fill_holes","type":"BOOLEAN","widget":{"name":"fill_holes"},"link":null},{"localized_name":"texture_alpha_mode","name":"texture_alpha_mode","type":"COMBO","widget":{"name":"texture_alpha_mode"},"link":null},{"localized_name":"dual_contouring_resolution","name":"dual_contouring_resolution","type":"COMBO","widget":{"name":"dual_contouring_resolution"},"link":null},{"localized_name":"double_side_material","name":"double_side_material","type":"BOOLEAN","widget":{"name":"double_side_material"},"link":null},{"localized_name":"remove_floaters","name":"remove_floaters","type":"BOOLEAN","widget":{"name":"remove_floaters"},"link":null},{"localized_name":"bake_on_vertices","name":"bake_on_vertices","type":"BOOLEAN","widget":{"name":"bake_on_vertices"},"link":null},{"localized_name":"use_custom_normals","name":"use_custom_normals","type":"BOOLEAN","widget":{"name":"use_custom_normals"},"link":null},{"localized_name":"remove_inner_faces","name":"remove_inner_faces","type":"BOOLEAN","widget":{"name":"remove_inner_faces"},"link":null}],"outputs":[{"localized_name":"trimesh","name":"trimesh","type":"TRIMESH","links":[88]},{"localized_name":"base_color_texture","name":"base_color_texture","type":"IMAGE","links":null},{"localized_name":"metallic_roughness_texture","name":"metallic_roughness_texture","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"Trellis2PostProcessAndUnWrapAndRasterizer","aux_id":"visualbruno/ComfyUI-Trellis2","ver":"a354e8c4fead5c152d58b50eae2935cb2923cd72","widget_ue_connectable":{}},"widgets_values":[60,0,1,1,4096,true,1,0,600000,"Cumesh",true,"OPAQUE","1024",false,true,false,false,true]}],"links":[[22,19,0,10,2,"STRING"],[79,39,0,41,0,"TRELLIS2PIPELINE"],[86,41,0,43,0,"MESHWITHVOXEL"],[87,41,1,43,1,"BVH"],[88,43,0,19,0,"TRIMESH"],[89,6,2,44,0,"IMAGE"],[90,44,0,41,1,"IMAGE"]],"groups":[],"config":{},"extra":{"workflowRendererVersion":"LG","ue_links":[],"ds":{"scale":0.7627768444385563,"offset":[176.92970002249322,-406.097306091485]},"links_added_by_ue":[],"frontendVersion":"1.37.11","VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}